import { themes } from "mdx-deck";

export const theme = themes.future;

# E2E & Frontend Testing Strategies

---

## Why should we test our code?

<Steps>

- To verify that it meets the **requirements**
- To avoid **regressions** after refactoring
- As a **documentation**
- To have a way to test specific cases that are difficult to test manually
- As a **guidance** that
    - force us to think about all cases
    - tells us when we can stop developing a feature

</Steps>

---

## Why aren't we testing our code?

<Steps>

- Writing good tests is **hard**
- We think that testing manually is enough and faster than writing automatic tests
- We think that writing tests is **expensive**

</Steps>

---

## Why aren't we testing our code?

![](/images/money.gif)

---

## Why aren't we testing our code?

<Steps>

> â€œUnit testing is a lot like going to the gymâ€

â€“ [A random guy on Stackoverflow](https://stackoverflow.com/a/69263/9891450)

</Steps>

--- 

## Test Desiderata (1/2)

- **Isolated** â€” tests should return the same results regardless of the order in which they are run.
- **Composable** â€” if tests are isolated, then I can run 1 or 10 or 100 or 1,000,000 and get the same results.
- **Behavioral** â€” tests should be sensitive to changes in the behavior of the code under test. If the behavior changes, the test result should change.
- **Structure-insensitive** â€” tests should not change their result if the structure of the code changes.
- **Deterministic** â€” if nothing changes, the test result shouldnâ€™t change.
- **Specific** â€” if a test fails, the cause of the failure should be obvious.

https://medium.com/@kentbeck_7670/test-desiderata-94150638a4b3

--- 

## Test Desiderata (2/2)

- **Fast** â€” tests should run quickly.
- **Writable** â€” tests should be cheap to write relative to the cost of the code being tested.
- **Readable** â€” tests should be comprehensible for reader, invoking the motivation for writing this particular test.
- **Automated** â€” tests should run without human intervention.
- **Predictive** â€” if the tests all pass, then the code under test should be suitable for production.
- **Inspiring** â€” passing the tests should inspire confidence

https://medium.com/@kentbeck_7670/test-desiderata-94150638a4b3

---

## Test Types: End To End (E2E)

Test the whole application (frontend + backend) like a user

- âœ… Great **confidence** that everything works as expected
- âœ… Indipendent from the **code structure**
- âŒ **Slow**
- âŒ Difficult to make them **deterministic**
- âŒ Less **specific**

---

## Test Types: Unit tests

Test a **unit** of our code in **isolation** from the rest.

What is a unit?! ğŸ¤”

- âœ… **Fast**
- âœ… Very **specific**
- âœ… Easy to make them **deterministic**
- âŒ Less **confidence** that everything works as expected
- âŒ Tied to the **code structure**
- âŒ Often require to **mock** a lot of things

---

## Links

- https://testingjavascript.com/
- https://github.com/goldbergyoni/javascript-testing-best-practices
- https://glebbahmutov.com/blog/
- https://kentcdodds.com/blog/
- https://github.com/NoriSte/ui-testing-best-practices
